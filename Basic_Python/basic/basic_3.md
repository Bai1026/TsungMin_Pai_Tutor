# Python 新手指南：03 資料結構

**作者：** tsung-min pai  
**單位：** NTUEE

---

## 大綱

### 1 列表 (Lists)

- 列表的定義與特性
- 列表的操作
- 巢狀列表
- 使用情境

### 2 元組 (Tuples)

- 元組的定義與特性
- 元組的操作
- 使用情境

### 3 集合 (Sets)

- 集合的定義與特性
- 集合的操作
- 使用情境

### 4 字典 (Dictionaries)

- 字典的定義與特性
- 字典的操作
- 使用情境

---

## 列表 (Lists)

**定義：** 一個有序、可變（Mutable）的資料集合，用方括號 `[]` 表示，元素之間用逗號 `,` 分隔。

**特性：**

- **有序：** 元素有固定的順序，可以透過索引（index）存取。
- **可變：** 可以添加、刪除或修改元素。

**使用情境：**

- 📋 **購物清單或待辦事項**：需要依序處理的項目
- 📊 **成績記錄**：學生的各科分數
- 🎵 **播放清單**：音樂播放順序很重要
- 📈 **時間序列資料**：股價、溫度等隨時間變化的資料
- 🔄 **需要頻繁修改**：經常新增、刪除或修改元素的情況

```python
# 範例：購物清單
shopping_list = ["蘋果", "牛奶", "麵包"]
shopping_list.append("雞蛋")  # 可以隨時新增

# 範例：學生成績
scores = [85, 92, 78, 95, 88]
average = sum(scores) / len(scores)  # 計算平均分數
```

---

## 列表的操作

**建立列表：**

```python
my_list = [1, 2, "hello", True]
```

**存取元素：**

```python
print(my_list[0])  # 輸出: 1
print(my_list[2])  # 輸出: hello
```

**修改元素：**

```python
my_list[0] = 10
print(my_list)  # 輸出: [10, 2, 'hello', True]
```

**增加元素：**

```python
my_list.append("world")
print(my_list)  # 輸出: [10, 2, 'hello', True, 'world']
```

**刪除元素：**

```python
del my_list[1]
print(my_list)  # 輸出: [10, 'hello', True, 'world']
```

---

## 元組 (Tuples)

**定義：** 一個有序、不可變（Immutable）的資料集合，用圓括號 `()` 表示，元素之間用逗號 `,` 分隔。

**特性：**

- **有序：** 元素有固定的順序，可以透過索引存取。
- **不可變：** 建立後不能添加、刪除或修改元素。

**使用情境：**

- 📍 **座標位置**：(x, y) 座標不應該被意外修改
- 🗓️ **日期時間**：(年, 月, 日) 固定格式
- 🎨 **RGB 顏色值**：(255, 128, 0) 顏色代碼
- 📊 **函式回傳多個值**：回傳固定格式的結果
- 🔒 **設定檔參數**：不希望被意外修改的配置資訊
- 🗂️ **資料庫記錄**：表示一筆固定結構的記錄

```python
# 範例：座標系統
point = (10, 20)  # x=10, y=20
print(f"座標位置：x={point[0]}, y={point[1]}")

# 範例：RGB 顏色
red_color = (255, 0, 0)
green_color = (0, 255, 0)

# 範例：函式回傳多個值
def get_user_info():
    return ("張三", 25, "工程師")  # 姓名、年齡、職業

name, age, job = get_user_info()
```

---

## 元組的操作

**建立元組：**

```python
my_tuple = (1, "apple", 3.14)
```

**存取元素：**

```python
print(my_tuple[1])  # 輸出: apple
```

**不可變性：**

```python
# my_tuple[0] = 10  # 這會引發 TypeError
```

---

## 集合 (Sets)

**定義：** 一個無序、不可重複的資料集合，用花括號 `{}` 表示。

**特性：**

- **無序：** 元素沒有固定的順序，不能透過索引存取。
- **不可重複：** 每個元素都是唯一的。

**使用情境：**

- 🔍 **去除重複元素**：從列表中移除重複項
- 👥 **會員管理**：確保用戶 ID 不重複
- 🏷️ **標籤系統**：文章標籤、產品類別
- 🧮 **數學運算**：聯集、交集、差集運算
- ✅ **檢查存在性**：快速判斷元素是否存在
- 🎯 **唯一識別**：IP 位址、Email 等不能重複的資料

```python
# 範例：去除重複的學生ID
student_ids = [101, 102, 103, 102, 104, 101]
unique_ids = set(student_ids)  # {101, 102, 103, 104}

# 範例：文章標籤
article_tags = {"Python", "程式設計", "教學", "初學者"}

# 範例：找出共同興趣
alice_interests = {"閱讀", "電影", "旅行", "攝影"}
bob_interests = {"電影", "音樂", "旅行", "運動"}
common_interests = alice_interests & bob_interests  # {"電影", "旅行"}
```

---

## 集合的操作

**建立集合：**

```python
my_set = {1, 2, 3, 2}
print(my_set)  # 輸出: {1, 2, 3} (重複的 2 被移除)
```

**新增元素：**

```python
my_set.add(4)
print(my_set)  # 輸出: {1, 2, 3, 4}
```

**刪除元素：**

```python
my_set.remove(3)
print(my_set)  # 輸出: {1, 2, 4}
```

---

## 字典 (Dictionaries)

**定義：** 一個無序的鍵值對（key-value pairs）集合，用花括號 `{}` 表示。每個鍵值對由一個鍵（key）和一個值（value）組成。

**特性：**

- **無序：** 從 Python 3.7 開始，字典是有序的，但在此之前是無序的。
- **鍵唯一：** 每個鍵必須是唯一的。

**使用情境：**

- 👤 **用戶資料**：姓名、年齡、Email 等個人資訊
- 🏪 **商品庫存**：商品名稱對應數量
- 🌍 **翻譯系統**：英文單字對應中文翻譯
- ⚙️ **設定檔**：程式配置參數
- 📞 **電話簿**：姓名對應電話號碼
- 📊 **統計計數**：單字出現次數、投票結果等
- 🗂️ **快速查詢**：需要根據關鍵字快速找到對應值

```python
# 範例：學生資料管理
student_info = {
    "name": "王小明",
    "age": 20,
    "major": "資訊工程",
    "gpa": 3.8
}

# 範例：商品價格表
prices = {
    "蘋果": 30,
    "香蕉": 25,
    "橘子": 35
}

# 範例：單字計數
text = "hello world hello python"
word_count = {}
for word in text.split():
    word_count[word] = word_count.get(word, 0) + 1
# 結果: {"hello": 2, "world": 1, "python": 1}
```

---

## 字典的操作

**建立字典：**

```python
my_dict = {"name": "Tsung-min", "age": 25}
```

**存取元素：**

```python
print(my_dict["name"])  # 輸出: Tsung-min
```

**修改或新增元素：**

```python
my_dict["age"] = 26
my_dict["city"] = "Taipei"
print(my_dict)  # 輸出: {'name': 'Tsung-min', 'age': 26, 'city': 'Taipei'}
```

**刪除元素：**

```python
del my_dict["age"]
print(my_dict)  # 輸出: {'name': 'Tsung-min', 'city': 'Taipei'}
```

---

## 資料結構選擇指南

**快速選擇參考：**

| 需求                   | 建議使用                        | 原因                       |
| ---------------------- | ------------------------------- | -------------------------- |
| 需要保持順序且會修改   | 列表 (List)                     | 有序且可變                 |
| 需要保持順序但不會修改 | 元組 (Tuple)                    | 有序且不可變，記憶體效率高 |
| 需要去除重複元素       | 集合 (Set)                      | 自動去重，快速查詢         |
| 需要鍵值對應關係       | 字典 (Dictionary)               | 快速根據鍵查詢值           |
| 需要數學集合運算       | 集合 (Set)                      | 支援交集、聯集等運算       |
| 需要快速查詢是否存在   | 集合 (Set) 或 字典 (Dictionary) | O(1) 時間複雜度            |
